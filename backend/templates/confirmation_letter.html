<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employment Confirmation Letter - {{ name }}</title>
    <style>
        @page {
            size: A4;
            margin: 0.75in;
            @top-center {
                content: "";
            }
            @bottom-right {
                content: "Page " counter(page) " of " counter(pages);
                font-size: 9pt;
                color: #666;
            }
        }
        
        body {
            font-family: 'Times New Roman', serif;
            font-size: 12pt;
            line-height: 1.5;
            color: #333;
            margin: 0;
            padding: 0;
        }
        
        .letterhead {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 3px solid #28a745;
        }
        
        .company-logo {
            width: 80px;
            height: 80px;
            margin: 0 auto 15px;
            background: #28a745;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24pt;
            font-weight: bold;
        }
        
        .company-name {
            font-size: 20pt;
            font-weight: bold;
            color: #28a745;
            margin-bottom: 8px;
            letter-spacing: 1px;
        }
        
        .company-info {
            font-size: 10pt;
            color: #666;
            line-height: 1.3;
        }
        
        .document-header {
            text-align: center;
            margin: 30px 0;
        }
        
        .document-title {
            font-size: 16pt;
            font-weight: bold;
            text-decoration: underline;
            margin-bottom: 10px;
            color: #28a745;
        }
        
        .document-ref {
            font-size: 10pt;
            color: #666;
            margin-bottom: 20px;
        }
        
        .date-line {
            text-align: right;
            margin-bottom: 30px;
            font-weight: bold;
        }
        
        .recipient-section {
            margin-bottom: 25px;
        }
        
        .recipient-name {
            font-weight: bold;
            font-size: 13pt;
            color: #28a745;
            margin-bottom: 5px;
        }
        
        .recipient-details {
            font-size: 11pt;
            color: #666;
            line-height: 1.4;
        }
        
        .salutation {
            margin-bottom: 25px;
            font-weight: bold;
        }
        
        .letter-body {
            text-align: justify;
            margin-bottom: 30px;
        }
        
        .letter-body p {
            margin-bottom: 18px;
            text-indent: 0;
        }
        
        .congratulations-banner {
            background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
            border: 2px solid #28a745;
            padding: 20px;
            margin: 25px 0;
            border-radius: 10px;
            text-align: center;
        }
        
        .congratulations-text {
            font-size: 14pt;
            font-weight: bold;
            color: #155724;
            margin-bottom: 10px;
        }
        
        .congratulations-subtitle {
            font-size: 11pt;
            color: #155724;
        }
        
        .employment-details-section {
            background: linear-gradient(135deg, #f8fff9 0%, #e8f5e8 100%);
            border-left: 4px solid #28a745;
            padding: 20px;
            margin: 25px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .employment-details-title {
            font-size: 13pt;
            font-weight: bold;
            color: #28a745;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .employment-details-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
        }
        
        .employment-details-table td {
            padding: 8px 12px;
            border-bottom: 1px solid #d1f2d1;
            vertical-align: top;
        }
        
        .employment-details-table td:first-child {
            font-weight: bold;
            width: 35%;
            color: #28a745;
            background: rgba(40, 167, 69, 0.05);
        }
        
        .employment-details-table tr:last-child td {
            border-bottom: none;
        }
        
        .confirmation-highlight {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
            border-left: 4px solid #f39c12;
        }
        
        .confirmation-highlight-title {
            font-weight: bold;
            color: #856404;
            margin-bottom: 8px;
        }
        
        .next-steps {
            background: #e2f3ff;
            border: 1px solid #b3d9ff;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
            border-left: 4px solid #007bff;
        }
        
        .next-steps-title {
            font-weight: bold;
            color: #004085;
            margin-bottom: 10px;
        }
        
        .next-steps ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        
        .next-steps li {
            margin-bottom: 5px;
            color: #004085;
        }
        
        .closing-section {
            margin-top: 40px;
        }
        
        .closing-text {
            margin-bottom: 30px;
        }
        
        .signature-section {
            margin-top: 60px;
            display: flex;
            justify-content: space-between;
        }
        
        .signature-block {
            text-align: center;
            width: 200px;
        }
        
        .signature-line {
            border-bottom: 2px solid #333;
            height: 50px;
            margin-bottom: 8px;
            position: relative;
        }
        
        .signature-title {
            font-size: 11pt;
            font-weight: bold;
            color: #28a745;
            margin-bottom: 3px;
        }
        
        .signature-name {
            font-size: 10pt;
            color: #666;
        }
        
        .signature-date {
            font-size: 10pt;
            color: #666;
            margin-top: 5px;
        }
        
        .footer {
            clear: both;
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px solid #ddd;
            font-size: 9pt;
            color: #666;
            text-align: center;
        }
        
        .verification-note {
            background: #fff8dc;
            border: 1px solid #ddd;
            padding: 10px;
            margin-top: 20px;
            border-radius: 3px;
            font-size: 9pt;
            color: #666;
        }
        
        .stamp-area {
            position: absolute;
            right: 50px;
            bottom: 80px;
            width: 100px;
            height: 100px;
            border: 2px dashed #28a745;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 8pt;
            color: #28a745;
            text-align: center;
        }
        
        @media print {
            body { margin: 0; }
            .no-print { display: none; }
        }
        
        /* Download button styles - only visible in web view */
        .download-section {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            border: 1px solid #ddd;
        }
        
        .download-button {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: all 0.2s ease;
            box-shadow: 0 2px 4px rgba(40, 167, 69, 0.2);
        }
        
        .download-button:hover {
            background: linear-gradient(135deg, #218838 0%, #1aa085 100%);
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(40, 167, 69, 0.3);
        }
        
        .download-button:active {
            transform: translateY(0);
        }
        
        .download-icon {
            width: 16px;
            height: 16px;
        }
    </style>
</head>
<body>
    <!-- Download Button - Only visible in web view -->
    {% if document_id %}
    <div class="download-section no-print">
        <a href="{{ download_url }}" class="download-button" download="Confirmation_Letter_{{ name.replace(' ', '_') }}.pdf">
            <svg class="download-icon" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd"></path>
            </svg>
            Download PDF
        </a>
    </div>
    {% endif %}
    
    <!-- Letterhead -->
    <div class="letterhead">
        <div class="company-logo">RTV</div>
        <div class="company-name">{{ company_name | default('Rise Tech Village') }}</div>
        <div class="company-info">
            {{ company_address | default('123 Tech Street, Innovation City, IC 12345') }}<br>
            Phone: {{ company_phone | default('+1 (555) 123-4567') }} | Email: {{ company_email | default('hr@risetechvillage.com') }}
        </div>
    </div>
    
    <!-- Document Header -->
    <div class="document-header">
        <div class="document-title">EMPLOYMENT CONFIRMATION LETTER</div>
        <div class="document-ref">Ref No: CL/{{ id | default('001') }}/{{ current_date | format_date('%Y') }}</div>
    </div>
    
    <!-- Date -->
    <div class="date-line">
        Date: {{ current_date }}
    </div>
    
    <!-- Recipient -->
    <div class="recipient-section">
        <div class="recipient-name">{{ name }}</div>
        <div class="recipient-details">
            {{ formatted_role | default('Employee') }}<br>
            {{ department_name | default('General') }} Department<br>
            {{ email | default('') }}
        </div>
    </div>
    
    <!-- Salutation -->
    <div class="salutation">
        Dear {{ name }},
    </div>
    
    <!-- Congratulations Banner -->
    <div class="congratulations-banner">
        <div class="congratulations-text">🎉 CONGRATULATIONS! 🎉</div>
        <div class="congratulations-subtitle">Your Employment Has Been Confirmed</div>
    </div>
    
    <!-- Letter Body -->
    <div class="letter-body">
        <p>
            We are delighted to formally confirm your permanent employment with <strong>{{ company_name | default('Rise Tech Village') }}</strong> 
            effective <strong>{{ confirmation_date | default(current_date) }}</strong>.
        </p>
        
        <p>
            Following the successful completion of your probationary period of <strong>{{ probation_period | default('3 months') }}</strong>, 
            we are pleased to confirm your continued employment with our organization. Your performance during this period has been 
            commendable, and you have demonstrated the qualities and competencies that align with our organizational values.
        </p>
        
        <p>
            This confirmation represents our confidence in your abilities and our commitment to your continued professional growth 
            within {{ company_name | default('Rise Tech Village') }}.
        </p>
    </div>
    
    <!-- Employment Details -->
    <div class="employment-details-section">
        <div class="employment-details-title">CONFIRMED EMPLOYMENT DETAILS</div>
        <table class="employment-details-table">
            <tr>
                <td>Employee Name:</td>
                <td>{{ name }}</td>
            </tr>
            <tr>
                <td>Employee ID:</td>
                <td>EMP{{ id | default('001') | string.zfill(4) }}</td>
            </tr>
            <tr>
                <td>Job Title:</td>
                <td>{{ formatted_role | default('Employee') }}</td>
            </tr>
            <tr>
                <td>Department:</td>
                <td>{{ department_name | default('General') }}</td>
            </tr>
            <tr>
                <td>Email Address:</td>
                <td>{{ email | default('N/A') }}</td>
            </tr>
            <tr>
                <td>Start Date:</td>
                <td>{{ joining_date }}</td>
            </tr>
            <tr>
                <td>Probation Period:</td>
                <td>{{ probation_period | default('3 months') }}</td>
            </tr>
            <tr>
                <td>Confirmation Date:</td>
                <td>{{ confirmation_date | default(current_date) }}</td>
            </tr>
            <tr>
                <td>Employment Status:</td>
                <td><strong>Permanent Employee</strong></td>
            </tr>
        </table>
    </div>
    
    <!-- Confirmation Highlight -->
    <div class="confirmation-highlight">
        <div class="confirmation-highlight-title">Employment Confirmation Effective {{ confirmation_date | default(current_date) }}</div>
        <p>
            You are now a confirmed permanent employee of {{ company_name | default('Rise Tech Village') }} with all 
            associated rights, benefits, and responsibilities as outlined in your employment contract and company policies.
        </p>
    </div>
    
    <!-- Next Steps -->
    <div class="next-steps">
        <div class="next-steps-title">Next Steps & Important Information:</div>
        <ul>
            <li>Review and acknowledge receipt of updated employee handbook</li>
            <li>Complete any pending compliance training requirements</li>
            <li>Ensure all personal information is up to date in HR systems</li>
            <li>Schedule your performance review meeting for continued development</li>
            <li>Familiarize yourself with confirmed employee benefits and policies</li>
        </ul>
    </div>
    
    <!-- Closing -->
    <div class="closing-section">
        <div class="closing-text">
            <p>
                We are excited to have you as a permanent member of our team and look forward to your continued contributions 
                to {{ company_name | default('Rise Tech Village') }}. We are confident that you will continue to excel in your role 
                and contribute to our shared success.
            </p>
            
            <p>
                Should you have any questions regarding your employment confirmation or need any clarification, please feel 
                free to contact the HR department at {{ company_email | default('hr@risetechvillage.com') }} or 
                {{ company_phone | default('+1 (555) 123-4567') }}.
            </p>
            
            <p>
                Once again, congratulations on your confirmation, and welcome to the permanent team!
            </p>
        </div>
    </div>
    
    <!-- Signature Section -->
    <div class="signature-section">
        <div class="signature-block">
            <div class="signature-line"></div>
            <div class="signature-title">HR Manager</div>
            <div class="signature-name">Human Resources</div>
            <div class="signature-date">Date: {{ current_date }}</div>
        </div>
        
        <div class="signature-block">
            <div class="signature-line"></div>
            <div class="signature-title">Department Head</div>
            <div class="signature-name">{{ department_name | default('General') }} Department</div>
            <div class="signature-date">Date: {{ current_date }}</div>
        </div>
    </div>
    
    <!-- Official Stamp Area -->
    <div class="stamp-area">
        CONFIRMED<br>EMPLOYEE
    </div>
    
    <!-- Footer -->
    <div class="footer">
        <div class="verification-note">
            <strong>Document Verification:</strong> This is an electronically generated employment confirmation letter. 
            For verification, please contact {{ company_name | default('Rise Tech Village') }} HR Department.
            Document ID: {{ id | default('CL001') }} | Generated on: {{ current_date }}
        </div>
        
        <p style="margin-top: 15px;">
            <strong>{{ company_name | default('Rise Tech Village') }}</strong> - Building Tomorrow's Technology Today<br>
            <em>Empowering Careers, Enabling Growth</em>
        </p>
    </div>
</body>
</html>